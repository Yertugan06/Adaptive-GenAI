<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Memory</title>
</head>
<body class="bg-slate-950 text-slate-100">
  <main class="max-w-6xl mx-auto p-6 space-y-4">
    <h1 class="text-2xl font-semibold">AI Memory Browser</h1>

    <div class="flex gap-2">
      <input id="query" class="flex-1 p-2 rounded bg-slate-900 border border-slate-800" placeholder="Search..." />
      <input id="topK" type="number" value="5" min="1" max="50"
        class="w-24 p-2 rounded bg-slate-900 border border-slate-800" />
      <button id="searchBtn" class="px-4 py-2 rounded bg-slate-100 text-slate-950 font-semibold">Search</button>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div id="results" class="space-y-2"></div>
      <div id="detail"><div class="text-slate-400">Select a result to view details.</div></div>
    </div>

    <section id="adminBox" class="hidden p-4 rounded-2xl border border-slate-800 bg-slate-900 space-y-3">
      <h2 class="font-semibold">Admin Controls</h2>

      <div class="flex items-center gap-2">
        <label class="text-sm text-slate-300">Status:</label>
        <select id="adminStatus" class="bg-slate-950 border border-slate-800 rounded-lg px-2 py-1">
          <option value="canonical">canonical</option>
          <option value="quarantine">quarantine</option>
          <option value="archived">archived</option>
        </select>
        <button id="adminStatusBtn" class="px-3 py-2 rounded border border-slate-700">Update status</button>
      </div>

      <div>
        <label class="text-sm text-slate-300">Topics (comma separated)</label>
        <input id="adminTopics" class="w-full p-2 rounded bg-slate-950 border border-slate-800" />
      </div>

      <div>
        <label class="text-sm text-slate-300">Response</label>
        <textarea id="adminResponseText" rows="6" class="w-full p-2 rounded bg-slate-950 border border-slate-800"></textarea>
      </div>

      <div class="flex gap-2">
        <button id="adminUpdateBtn" class="px-4 py-2 rounded bg-slate-100 text-slate-950 font-semibold">Save (PUT)</button>
        <button id="adminDeleteBtn" class="px-4 py-2 rounded border border-red-800 text-red-300">Archive (DELETE)</button>
      </div>
    </section>
  </main>

  <script type="module" src="../assets/js/memory.js"></script>
</body>
</html>
